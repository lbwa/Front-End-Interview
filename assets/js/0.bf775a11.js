(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{170:function(t,s,n){"use strict";n.r(s);var a=n(0),e=Object(a.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[t._m(0),n("p",[t._v("常见方法：")]),n("ul",[t._m(1),n("li",[n("p",[t._v("localStorage（"),n("a",{attrs:{href:"https://www.w3.org/TR/webstorage/#the-localstorage-attribute",target:"_blank",rel:"noopener noreferrer"}},[t._v("W3C"),n("OutboundLink")],1),t._v("） - 本地存储 - 有同源限制")]),t._m(2)]),n("li",[n("p",[t._v("sessionStorage（"),n("a",{attrs:{href:"https://www.w3.org/TR/webstorage/#the-sessionstorage-attribute",target:"_blank",rel:"noopener noreferrer"}},[t._v("W3C"),n("OutboundLink")],1),t._v("） - 会话存储 - 有同源限制")]),t._m(3)]),n("li",[n("p",[t._v("IndexedDB（"),n("a",{attrs:{href:"https://www.w3.org/TR/IndexedDB/",target:"_blank",rel:"noopener noreferrer"}},[t._v("W3C"),n("OutboundLink")],1),t._v("） - 本质是数据库")]),t._m(4)])]),t._m(5),t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),n("p",[t._v("localStorage 默认没有过期设置，存储了就一直存在，除非主动清理。")]),t._m(12),t._m(13),t._m(14),t._m(15),t._m(16),t._m(17)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"客户端存储"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#客户端存储","aria-hidden":"true"}},[this._v("#")]),this._v(" 客户端存储")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("p",[this._v("cookie - 请求头部的一项")]),s("ul",[s("li",[this._v("本身用于客户端和服务端通信（主业），但它有本地存储（副业）的功能")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("本地存储空间只对同源地址有效，非同源情况下将会建立新的存储空间")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("只在当前会话阶段有效的存储空间，并且刷新页面不会清空当前 "),s("code",[this._v("sessionStorage")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("用于存储大量结构化数据，需要维护版本等配置")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"cookie"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cookie","aria-hidden":"true"}},[this._v("#")]),this._v(" cookie")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("本身是作为请求头部（"),s("code",[this._v("Request header")]),this._v("）的一个选项存在，用于在每次与服务端通信时，发送信息。")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ul",[n("li",[n("p",[t._v("局限性：")]),n("ul",[n("li",[t._v("因为它每次都会随请求发送到服务端，那么它本地存储的空间就肯定比一般存储方式要小很多（5KB）。")]),n("li",[t._v("每次 "),n("code",[t._v("http")]),t._v(" 请求都会携带 "),n("code",[t._v("cookie")]),t._v(" ，那么对获取资源的效率有影响")]),n("li",[t._v("API 过于简单，即 "),n("code",[t._v("document.cookie = '...'")]),t._v("。使用 "),n("code",[t._v("cookie")]),t._v(" 存储数据就需要先封装方法才能使用。")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"localstorage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#localstorage","aria-hidden":"true"}},[this._v("#")]),this._v(" localStorage")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("localStorage")]),this._v(" 和 "),s("code",[this._v("sessionStorage")]),this._v(" 都遵循同源策略。非同源地址都有自己独享的本地存储空间或会话存储空间。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("现阶段，"),s("code",[this._v("localStorage")]),this._v(" 在大部分浏览器的容量上限是 5MB。")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token comment"}},[t._v("// 保存数据")]),t._v("\nlocalStorage"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("setItem")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'username'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'John Wick'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{attrs:{class:"token comment"}},[t._v("// 读取数据")]),t._v("\nlocalStorage"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("getItem")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'username'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// 'John Wick'")]),t._v("\n\n"),n("span",{attrs:{class:"token comment"}},[t._v("// 删除数据")]),t._v("\nlocalStorage"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("removeItem")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'username'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{attrs:{class:"token comment"}},[t._v("// 清空当前源的 localStorage")]),t._v("\nlocalStorage"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("clear")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"sessionstorage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sessionstorage","aria-hidden":"true"}},[this._v("#")]),this._v(" sessionStorage")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("现阶段，"),s("code",[this._v("sessionStorage")]),this._v(" 在大部分浏览器的容量上限是 5MB。")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token comment"}},[t._v("// 保存数据")]),t._v("\nsessionStorage"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("setItem")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'username'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'John Wick'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{attrs:{class:"token comment"}},[t._v("// 读取数据")]),t._v("\nsessionStorage"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("getItem")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'username'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// 'John Wick'")]),t._v("\n\n"),n("span",{attrs:{class:"token comment"}},[t._v("// 删除数据")]),t._v("\nsessionStorage"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("removeItem")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'username'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{attrs:{class:"token comment"}},[t._v("// 清空当前源的 sessionStorage")]),t._v("\nsessionStorage"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("clear")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("p",[n("code",[t._v("sessionStorage")]),t._v(" 的存储空间"),n("strong",[t._v("仅")]),t._v("在"),n("strong",[t._v("当前会话")]),t._v("中有效，退出当前会话，即关闭窗口会重置 "),n("code",[t._v("sessionStorage")]),t._v("。重新加载页面并"),n("strong",[t._v("不会")]),t._v("重置当前 "),n("code",[t._v("sessionStorage")]),t._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"拓展"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拓展","aria-hidden":"true"}},[this._v("#")]),this._v(" 拓展")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("p",[t._v("ios safari 的隐藏模式下，"),n("code",[t._v("localStorage.getItem")]),t._v(" 会报错。所以使用 "),n("code",[t._v("localStorage")]),t._v(" 和 "),n("code",[t._v("sessionStorage")]),t._v(" 最好封装在 "),n("code",[t._v("try ... catch")]),t._v(" 中。")])}],!1,null,null,null);s.default=e.exports}}]);